apiVersion: apps/v1
kind: Deployment
metadata:
  name: proj3
spec:
  replicas: 1
  selector:
    matchLabels:
      project: proj3
  template:
    metadata:
      labels:
        project: proj3
    spec:
      containers:
      - name: react-dev
        image: node:22-alpine
        ports:
        - containerPort: 5173
        command: ["/bin/sh", "-c"]
        args:
          - |
            echo "ðŸ“¦ Installing git..."
            apk add --no-cache git
            
            echo "ðŸ“¥ Cloning repo..."
            git clone https://github.com/pandeygsundaram/react-templete /app
            
            cd /app
            
            echo "ðŸ“¦ Installing dependencies..."
            npm install
            
            echo "ðŸš€ Starting dev server..."
            npm run dev -- --host 0.0.0.0 --port 5173
---
apiVersion: v1
kind: Service
metadata:
  name: proj3
spec:
  selector:
    project: proj3
  ports:
  - port: 80
    targetPort: 5173